#!/usr/bin/env python3
"""
Script para crear archivos JSON completos para todas las edades 6-16
"""

import json
import os

# Plantilla base para todas las subpruebas (estructura general)
PLANTILLA_SUBPRUEBAS = {
    "CC": {"1": "0-3", "2": "4", "3": "5", "4": "6-7", "5": "8-9", 
           "6": "10-11", "7": "12-14", "8": "15-16", "9": "17-19", 
           "10": "20-21", "11": "22-24", "12": "25-27", "13": "28-30", 
           "14": "31-32", "15": "33-35", "16": "36-37", "17": "38-39", 
           "18": "40-41", "19": "42-58"},
    
    "AN": {"1": "0-1", "2": "2", "3": "3-4", "4": "5-6", "5": "7-8", 
           "6": "9-10", "7": "11-13", "8": "14-15", "9": "16-17", 
           "10": "18-19", "11": "20-21", "12": "22-23", "13": "24-25", 
           "14": "26-27", "15": "28-29", "16": "30-31", "17": "32", 
           "18": "33", "19": "34-46"},
    
    "MR": {"1": "0-3", "2": "4-5", "3": "6", "4": "7-8", "5": "9", 
           "6": "10-11", "7": "11-12", "8": "13", "9": "14-15", 
           "10": "16-17", "11": "18-19", "12": "20", "13": "21-22", 
           "14": "23", "15": "24-25", "16": "26", "17": "27", "18": "28", "19": "29-32"},
    
    "RD": {"1": "0-4", "2": "5", "3": "6", "4": "7-8", "5": "9-10", 
           "6": "11-12", "7": "13", "8": "14", "9": "15-16", "10": "17-18", 
           "11": "19", "12": "20", "13": "21-22", "14": "23", "15": "24", 
           "16": "25", "17": "26", "18": "27", "19": "28-54"},
    
    "CLA": {"1": "0-11", "2": "12-14", "3": "15-17", "4": "18-21", "5": "22-24", 
            "6": "25-26", "7": "27-29", "8": "30-31", "9": "32-34", 
            "10": "35-37", "11": "38-40", "12": "41-44", "13": "45-47", 
            "14": "48-51", "15": "52-54", "16": "55-58", "17": "59-61", 
            "18": "62-65", "19": "66-75"},
    
    "VOC": {"1": "0-2", "2": "3-4", "3": "5", "4": "6", "5": "7-8", 
            "6": "9-10", "7": "11-12", "8": "13-14", "9": "15-16", 
            "10": "17-18", "11": "19-20", "12": "21-22", "13": "23-24", 
            "14": "25-26", "15": "27-29", "16": "30-32", "17": "33-34", 
            "18": "35-36", "19": "37-51"},
    
    "BAL": {"1": "0-3", "2": "4-5", "3": "6-7", "4": "8-9", "5": "10", 
            "6": "11", "7": "12", "8": "13", "9": "14", "10": "15-16", 
            "11": "17", "12": "19", "13": "20-20", "14": "21-22", 
            "15": "23", "16": "24-25", "17": "26", "18": "27", "19": "28-34"},
    
    "RV": {"1": "0-2", "2": "3", "3": "4", "4": "5", "5": "6", 
           "6": "7", "7": "8", "8": "9", "9": "10", "10": "11", 
           "11": "12", "12": "13", "13": "14", "14": "15", "15": "16", 
           "16": "17", "17": "18", "18": "19", "19": "20-29"},
    
    "RI": {"1": "0-5", "2": "6-7", "3": "8-9", "4": "10-11", "5": "12-13", 
           "6": "14-15", "7": "16-17", "8": "18-19", "9": "20-21", 
           "10": "22-23", "11": "24-25", "12": "26-27", "13": "28", 
           "14": "29-30", "15": "31-32", "16": "33-34", "17": "35-36", 
           "18": "37-38", "19": "39-49"},
    
    "BS": {"1": "0-5", "2": "6-7", "3": "8-9", "4": "10-11", "5": "12-13", 
           "6": "14-16", "7": "17-19", "8": "20-21", "9": "22", 
           "10": "23-24", "11": "25-26", "12": "27", "13": "28-29", 
           "14": "30-31", "15": "32-34", "16": "35-36", "17": "37-38", 
           "18": "39", "19": "40-42"},
    
    "INF": {"1": "0", "2": "1", "3": "2", "4": "3", "5": "4", 
            "6": "5", "7": "6", "8": "7", "9": "8", "10": "9", 
            "11": "10", "12": "11", "13": "12", "14": "13", "15": "14", 
            "16": "15", "17": "16", "18": "17", "19": "18-31"},
    
    "SLN": {"1": "0-6", "2": "7-10", "3": "11-15", "4": "16-20", "5": "21-24", 
            "6": "25-29", "7": "30-34", "8": "35-39", "9": "40-44", 
            "10": "45-49", "11": "50-54", "12": "55-59", "13": "60-64", 
            "14": "65-68", "15": "69-72", "16": "73-76", "17": "77-80", 
            "18": "81-83", "19": "84-128"},
    
    "CAN": {"1": "0-9", "2": "10-14", "3": "15-20", "4": "21-25", "5": "26-30", 
            "6": "31-35", "7": "36-40", "8": "41-45", "9": "46-51", 
            "10": "52-57", "11": "58-63", "12": "64-70", "13": "71-76", 
            "14": "77-82", "15": "83-88", "16": "89-94", "17": "95-99", 
            "18": "100-102", "19": "103-128"},
    
    "COM": {"1": "0-2", "2": "3", "3": "4", "4": "5", "5": "6", 
            "6": "7-8", "7": "9", "8": "10", "9": "11", "10": "12", 
            "11": "13-14", "12": "15-16", "13": "17", "14": "18-19", 
            "15": "20-21", "16": "22-23", "17": "24", "18": "25", "19": "26-40"},
    
    "ARI": {"1": "0-3", "2": "4", "3": "5", "4": "6", "5": "7", 
            "6": "8", "7": "9", "8": "10", "9": "11", "10": "12-13", 
            "11": "14", "12": "15", "13": "16", "14": "17", "15": "18", 
            "16": "19", "17": "20", "18": "21", "19": "22-34"}
}

def crear_archivos_completos():
    """Crea archivos JSON para todas las edades de 6 a 16 aÃ±os"""
    
    # Crear carpeta si no existe
    os.makedirs('data/tablas', exist_ok=True)
    
    grupos_etarios = []
    
    # Generar todos los grupos de 6 a 16 aÃ±os
    for edad in range(6, 17):  # 6 a 16
        grupos_etarios.extend([
            f"{edad}_0-{edad}_5",
            f"{edad}_6-{edad}_11"
        ])
    
    archivos_creados = 0
    
    for grupo in grupos_etarios:
        nombre_archivo = grupo + '.json'
        ruta_archivo = os.path.join('data/tablas', nombre_archivo)
        
        # Para este ejemplo, usamos la misma plantilla para todos
        # En la realidad, cada archivo tendrÃ­a sus valores especÃ­ficos
        tablas_grupo = PLANTILLA_SUBPRUEBAS.copy()
        
        # Guardar como JSON
        with open(ruta_archivo, 'w', encoding='utf-8') as f:
            json.dump(tablas_grupo, f, indent=2, ensure_ascii=False)
        
        print(f"âœ… Creado: {ruta_archivo}")
        archivos_creados += 1
    
    print(f"\nðŸŽ¯ TOTAL ARCHIVOS CREADOS: {archivos_creados}")
    print("ðŸ“Š EDADES CUBIERTAS: 6:0 a 16:11")
    
    # Crear archivo de informaciÃ³n
    info = {
        "total_archivos": archivos_creados,
        "edades_cubiertas": "6:0 a 16:11",
        "subpruebas_incluidas": list(PLANTILLA_SUBPRUEBAS.keys()),
        "ultima_actualizacion": "2024-01-01"
    }
    
    with open('data/tablas/INFO.json', 'w', encoding='utf-8') as f:
        json.dump(info, f, indent=2, ensure_ascii=False)
    
    print("ðŸ“‹ Archivo INFO.json creado")

if __name__ == "__main__":
    crear_archivos_completos()